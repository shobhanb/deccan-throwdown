<ion-header>
  <ion-toolbar>
    <ion-menu-button menu="main-menu" slot="start"></ion-menu-button>
    <ion-title>Image Gallery</ion-title>
    <app-toolbar-buttons slot="end"></app-toolbar-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-refresher slot="fixed" (ionRefresh)="handleRefresh($event)">
    <ion-refresher-content></ion-refresher-content>
  </ion-refresher>

  <ion-grid>
    <ion-row>
      @for (imageInfo of imageData(); track $index; let i = $index) {
      <ion-col
        size="auto"
        [sizeSm]="imageInfo.type === 'horizontal' ? 'auto' : 6"
        [sizeMd]="imageInfo.type === 'horizontal' ? 'auto' : 4"
        [sizeLg]="imageInfo.type === 'horizontal' ? 'auto' : 3"
        class="image-col"
      >
        <a [href]="imageInfo.path">
          <ion-img [src]="imageInfo.path" class="gallery-image"> </ion-img>
        </a>
      </ion-col>
      }
    </ion-row>

    @if (imageData().length === 0) {
    <ion-row>
      @for (skeleton of [1,2,3,4,5,6,7,8]; track skeleton) {
      <ion-col size="12" sizeSm="6" sizeMd="4" sizeLg="3">
        <div class="skeleton-image-container">
          <ion-skeleton-text
            [animated]="true"
            style="width: 100%; height: 200px; border-radius: 8px"
          ></ion-skeleton-text>
        </div>
      </ion-col>
      }
    </ion-row>
    }
  </ion-grid>
</ion-content>
